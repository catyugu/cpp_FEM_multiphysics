
# **IO Namespace**

This namespace provides utilities for importing and exporting data, primarily handling mesh files and simulation results. It is designed to be flexible, supporting common formats from meshing software like Gmsh and visualization tools like ParaView.

---
## **Classes**

### **Importer**
* **Description**: A utility class for importing mesh data and validation results from various file formats.
* **Public Functions**:
  * `read_comsol_mphtxt(const std::string& filename)`: Reads a mesh from a COMSOL `.mphtxt` text file.
    * **Input Params**:
      * `filename`: The path to the input `.mphtxt` file (`const std::string&`).
    * **Output Params**:
      * Returns a `std::unique_ptr<Core::Mesh>` to the newly created Mesh object.
    * **Functionality**: Parses a COMSOL-exported text file to read vertex coordinates and triangular element connectivity, constructing a `Core::Mesh` object from this data. It performs a two-pass read to first get all vertices and then the elements, ensuring robustness.

  * `read_gmsh_msh(const std::string& filename)`: Reads a mesh from a Gmsh `.msh` file (ASCII format).
    * **Input Params**:
      * `filename`: The path to the input `.msh` file (`const std::string&`).
    * **Output Params**:
      * Returns a `std::unique_ptr<Core::Mesh>` to the newly created `Core::Mesh` object.
    * **Functionality**: Parses a `.msh` file to read nodes and elements (lines, triangles, tetrahedra), creating a `Core::Mesh` object. This allows for the use of complex, unstructured meshes generated by Gmsh.

  * `read_vtu_points_and_data(const std::string& filename, const std::vector<std::string>& data_array_names)`: Reads node coordinates and specified data arrays from a VTK Unstructured Grid (`.vtu`) file. This function is particularly useful for validation against reference results.
    * **Input Params**:
      * `filename`: The path to the input `.vtu` file (`const std::string&`).
      * `data_array_names`: A vector of names of the `DataArray` fields to read from the file.
    * **Output Params**:
      * Returns a `VtuData` struct containing the point coordinates and a map of the requested data arrays.
    * **Functionality**: Parses an XML-based `.vtu` file to extract both the `Points` data and the nodal data from one or more specified `DataArray` blocks.

---
### **Exporter**
* **Description**: A utility class for exporting simulation results to various file formats for post-processing and visualization.
* **Public Functions**:
  * `write_vtk(const std::string& filename, const Core::Problem& problem)`: Writes the mesh and all solved nodal and cell data from a `Problem` to a legacy VTK file.
    * **Input Params**:
      * `filename`: The path to the output file (e.g., "results.vtk") (`const std::string&`).
      * `problem`: The problem instance containing the mesh and solution data (`const Core::Problem&`).
    * **Output Params**:
      * Returns `true` if the file was written successfully, `false` otherwise.
    * **Functionality**: Exports the simulation's mesh and the solution data for each physics field to a VTK file, which can be visualized in software like ParaView or VisIt. It handles different element types (lines, triangles, tetrahedra) and writes **nodal (point) data** (e.g., Temperature, Voltage) as well as **element-based (cell) data** (e.g., Joule Heat).